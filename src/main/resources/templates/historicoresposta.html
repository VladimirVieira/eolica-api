<!DOCTYPE html>
<html>
<head>
	<title>SisGPE</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="../estilo.css">
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	
</head>
<body>

	<div id="area-cabecalho">
		
		<div id="area-logo">
			<h1>SisG<span class="branco">PE</span></h1>
		</div>
		<div id="area-menu">
			<a href="index.html">Dados Local</a>
			<a href="historicoprevi.html">Histórico</a>
			<a href="xxxxxxxx">VVVV</a>
			<a href="xxxxxxxx">YYYYY</a>
			<a href="">WWWWWW</a>
		</div>

	</div>

	<div id="area-principal">

		<div id="area-postagens">
		
			<h2>Consultar histórico</h2>
<br>
<div class="postagem">
    <canvas id="graficoTemperaturas" width="400" height="250"></canvas>
</div>

<div class="postagem">
    <canvas id="graficoTrimestres" width="400" height="250"></canvas>
</div>

<!-- Importar Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script th:inline="javascript">
    // Gráfico de linha para temperaturas máxima e mínima
    const ctxTemp = document.getElementById('graficoTemperaturas').getContext('2d');
    const chartTemp = new Chart(ctxTemp, {
        type: 'line',
        data: {
            labels: [[${hist.data}]], // datas
            datasets: [
                {
                    label: 'Temperatura Máxima',
                    borderColor: 'rgb(255, 99, 132)',
                    data: [[${hist.tempMax}]],
                    fill: false,
                    tension: 0.1
                },
                {
                    label: 'Temperatura Mínima',
                    borderColor: 'rgb(54, 162, 235)',
                    data: [[${hist.tempMin}]],
                    fill: false,
                    tension: 0.1
                }
            ]
        },
        options: {
            responsive: true,
            scales: {
                x: { title: { display: true, text: 'Data' } },
                y: { title: { display: true, text: 'Temperatura (°C)' } }
            }
        }
    });

    // Gráfico de barras para médias trimestrais de vento
    const ctxTri = document.getElementById('graficoTrimestres').getContext('2d');
    const graficoTrimestres = new Chart(ctxTri, {
        type: 'bar',
        data: {
            labels: ['1º Trimestre', '2º Trimestre', '3º Trimestre', '4º Trimestre'],
            datasets: [{
                label: 'Média Vento (m/s)',
                data: [
                    [[${hist.primeiroTrimestre}]],
                    [[${hist.segundoTrimestre}]],
                    [[${hist.terceiroTrimestre}]],
                    [[${hist.quartoSemestre}]]
                ],
                backgroundColor: [
                    'rgba(75, 192, 192, 0.6)',
                    'rgba(255, 159, 64, 0.6)',
                    'rgba(153, 102, 255, 0.6)',
                    'rgba(255, 99, 132, 0.6)'
                ],
                borderColor: [
                    'rgba(75, 192, 192, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 99, 132, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
	</script>
   
		</div>

		<div id="rodape">
			<strong>SisGPE</strong>
		</div>

	</div>
	
	

</body>
</html>
